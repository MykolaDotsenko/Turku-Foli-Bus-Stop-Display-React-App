{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\Turku bus stop\\\\bus-stop-display\\\\src\\\\App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = 'https://cors-anywhere.herokuapp.com/http://data.foli.fi/siri/sm/';\nconst BusStopDisplay = ({\n  arrivals\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Bus Stop Information\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: arrivals.map((arrival, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Destination:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 13,\n          columnNumber: 13\n        }, this), \" \", arrival.destinationdisplay, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 13,\n          columnNumber: 71\n        }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Scheduled Arrival:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 14,\n          columnNumber: 13\n        }, this), \" \", arrival.expectedarrivaltime, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 14,\n          columnNumber: 78\n        }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Status:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 15,\n          columnNumber: 13\n        }, this), \" \", arrival.early ? 'Early by' : 'Late by', \" \", arrival.delay, \" minutes\"]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 12,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 8,\n    columnNumber: 5\n  }, this);\n};\n_c = BusStopDisplay;\nconst BusStopForm = ({\n  onSubmit\n}) => {\n  _s();\n  const [stopNumber, setStopNumber] = useState('');\n  const handleSubmit = e => {\n    e.preventDefault();\n    onSubmit(stopNumber);\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      children: [\"Enter Bus Stop Number:\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: stopNumber,\n        onChange: e => setStopNumber(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      children: \"Get Arrival Info\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n};\n_s(BusStopForm, \"TdF57xpGJOnlC6fZsQcEbI205CI=\");\n_c2 = BusStopForm;\nconst App = () => {\n  _s2();\n  const [arrivals, setArrivals] = useState([]);\n  const [error, setError] = useState(null);\n  const fetchArrivals = async stopNumber => {\n    try {\n      const response = await axios.get(`${API_URL}${stopNumber}`);\n      const arrivalsData = response.data;\n      // Calculate delay for each arrival\n      const now = new Date();\n      const updatedArrivals = arrivalsData.map(arrival => {\n        const expectedArrivalTime = new Date(arrival.expectedarrivaltime);\n        const delay = Math.floor((expectedArrivalTime.getTime() - now.getTime()) / 60000);\n        return {\n          ...arrival,\n          delay,\n          early: delay < 0\n        };\n      });\n      setArrivals(updatedArrivals);\n      setError(null);\n    } catch (error) {\n      setArrivals([]);\n      setError('Error fetching arrival data');\n    }\n  };\n  useEffect(() => {\n    // Fetch initial data when component mounts\n    fetchArrivals('164'); // Example stop number\n    // Auto-update every 30 seconds\n    const interval = setInterval(() => {\n      fetchArrivals('164'); // Example stop number\n    }, 30000);\n    return () => clearInterval(interval);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Bus Stop Display\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(BusStopForm, {\n      onSubmit: fetchArrivals\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(BusStopDisplay, {\n      arrivals: arrivals\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 5\n  }, this);\n};\n_s2(App, \"10eDDKFlwum43/cFfFwa8j6UwaA=\");\n_c3 = App;\nexport default App;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"BusStopDisplay\");\n$RefreshReg$(_c2, \"BusStopForm\");\n$RefreshReg$(_c3, \"App\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","API_URL","BusStopDisplay","arrivals","children","fileName","_jsxFileName","lineNumber","columnNumber","map","arrival","index","destinationdisplay","expectedarrivaltime","early","delay","_c","BusStopForm","onSubmit","_s","stopNumber","setStopNumber","handleSubmit","e","preventDefault","type","value","onChange","target","_c2","App","_s2","setArrivals","error","setError","fetchArrivals","response","get","arrivalsData","data","now","Date","updatedArrivals","expectedArrivalTime","Math","floor","getTime","interval","setInterval","clearInterval","_c3","$RefreshReg$"],"sources":["C:/Users/user/Desktop/Turku bus stop/bus-stop-display/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nconst API_URL = 'https://cors-anywhere.herokuapp.com/http://data.foli.fi/siri/sm/';\n\nconst BusStopDisplay = ({ arrivals }) => {\n  return (\n    <div>\n      <h2>Bus Stop Information</h2>\n      <ul>\n        {arrivals.map((arrival, index) => (\n          <li key={index}>\n            <strong>Destination:</strong> {arrival.destinationdisplay}<br />\n            <strong>Scheduled Arrival:</strong> {arrival.expectedarrivaltime}<br />\n            <strong>Status:</strong> {arrival.early ? 'Early by' : 'Late by'} {arrival.delay} minutes\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nconst BusStopForm = ({ onSubmit }) => {\n  const [stopNumber, setStopNumber] = useState('');\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onSubmit(stopNumber);\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <label>\n        Enter Bus Stop Number:\n        <input type=\"text\" value={stopNumber} onChange={(e) => setStopNumber(e.target.value)} />\n      </label>\n      <button type=\"submit\">Get Arrival Info</button>\n    </form>\n  );\n};\n\nconst App = () => {\n  const [arrivals, setArrivals] = useState([]);\n  const [error, setError] = useState(null);\n\n  const fetchArrivals = async (stopNumber) => {\n    try {\n      const response = await axios.get(`${API_URL}${stopNumber}`);\n      const arrivalsData = response.data;\n      // Calculate delay for each arrival\n      const now = new Date();\n      const updatedArrivals = arrivalsData.map(arrival => {\n        const expectedArrivalTime = new Date(arrival.expectedarrivaltime);\n        const delay = Math.floor((expectedArrivalTime.getTime() - now.getTime()) / 60000);\n        return {\n          ...arrival,\n          delay,\n          early: delay < 0\n        };\n      });\n      setArrivals(updatedArrivals);\n      setError(null);\n    } catch (error) {\n      setArrivals([]);\n      setError('Error fetching arrival data');\n    }\n  };\n\n  useEffect(() => {\n    // Fetch initial data when component mounts\n    fetchArrivals('164'); // Example stop number\n    // Auto-update every 30 seconds\n    const interval = setInterval(() => {\n      fetchArrivals('164'); // Example stop number\n    }, 30000);\n    return () => clearInterval(interval);\n  }, []);\n\n  return (\n    <div>\n      <h1>Bus Stop Display</h1>\n      <BusStopForm onSubmit={fetchArrivals} />\n      {error && <p>{error}</p>}\n      <BusStopDisplay arrivals={arrivals} />\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}